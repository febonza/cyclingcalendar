{% extends "base.html" %}

{% block title %}
    Calendar
{% endblock %}

{% block main %}
    <!-- <form method="POST">
        <div class="form-group mb-3">
            <label for="formCategorySelection">Category</label>
            <select class="form-control" name="categorySelection">
                <option>All</option>
                <option>World Tour</option>
                <option>Others</option>
            </select>
            <button type="submit" class="btn btn-primary mt-3">Submit</button>    
        </div>
    </form> -->
    
    <div class="container">
        <form method="post">
            <div class="card mb-4">
                <h2>FILTERS:</h2>
                <div class="col-12 mb-4 mt-2">
                    <select name="filterMonth" class="form-select mb-4" size="6" aria-label="size 3 select example">
                        <option value="0" selected>Select a month</option>
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                    <div class="form-check form-check-inline mb-4">
                        <input class="form-check-input" type="radio" name="filterCategory" value="all" id="registerCategoryMtb" checked>
                        <label class="form-check-label" for="filterCategoryMtb">All</label>
                    </div>
                    <div class="form-check form-check-inline mb-4">
                        <input class="form-check-input" type="radio" name="filterCategory" value="Mountain Bike" id="registerCategoryMtb" >
                        <label class="form-check-label" for="filterCategoryMtb">Mountain Bike</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="filterCategory" value="Road Cycling" id="registerCategoryRoad">
                        <label class="form-check-label" for="filterCategoryRoad">Road Cycling</label>
                    </div>
                    <div>
                        <button class="btn btn-primary" type="submit">Filter</button>
                    </div>
                </div>
            </div>
        </form>
        <div class="col mb-4">
            <h2>RACES</h2>
            <div class="row">
                {% for _ in races %}

                <div class="col-sm-3 mb-3">
                    <div class="card">
                        <div class="card-sl">
                            <form action="/add_my_races" id="formAddRace" method="post">
                                <input type="hidden" name="raceId" value="{{ _['id'] }}" class="form-control form-control-lg"/>
                                <div class="card-image">
                                    <img src="/static/race_images/{{ _['picture_race'] }}" />
                                </div>
                                <div class="card-heading">
                                    {{ _['race_name'] }}
                                </div>
                                <div class="card-text">
                                    {{ _['race_date'] }}
                                </div>
                                <div class="card-text">
                                    {{ _['race_local'] }}
                                </div>
                                <div class="card-text">
                                    {{ _['category'] }}
                                </div>
                                <a href="#" class="card-button"> Website</a>
                                <button type="submit" class="card-button-add">Add to My Races</a>
                            </form>
                            <form action="/remove_my_races" method="post">
                                <input type="hidden" name="raceId" value="{{ _['id'] }}" class="form-control form-control-lg"/>
                                <input type="hidden" name="removingFromAllRaces" value="{{ _['id'] }}" class="form-control form-control-lg"/>
                                {% if _['id'] in races_from_user %}
                                    <button type="submit" class="card-button-remove">Remove from My Races</a>
                                {% endif %}
                            </form>
                            <form action="/delete_race" method="post">
                                <input type="hidden" name="raceId" value="{{ _['id'] }}" class="form-control form-control-lg"/>
                                <input type="hidden" name="removingFromAllRaces" value="{{ _['id'] }}" class="form-control form-control-lg"/>
                                {% if is_admin == 1 %}
                                    <button type="submit" class="card-button-remove">Delete Race</a>
                                {% endif %}
                            </form>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}